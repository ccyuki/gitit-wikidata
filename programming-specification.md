**编程规范C++**

代码格式

  - 每行代码不超过80个字符
  - 每个函数(包括成员函数)不超过30行代码
  - 每个类的成员变量不超过10个
  - 每个源文件包括空行和注释行，不能超过300行代码

命名规则

  - 常量：名称前加小写k，且除去开头的 k 之外每个单词开头字母均大写，如kNumOfThread。
  - 函数名：含义明确，单词首字母大写，其余小写，如GetName()
  - 类名：单词首字母大写，其余小写
  - 成员变量名：字母全部小写，单词之间用“_”连接,且以"_"结束，如num_of_users_
  - 临时变量名：字母全部小写，单词之间用“_”连接，如user_name
  - 文件名：<namespace>-<main_class_name>.[h,cpp], 必须全部小写

代码安全

  - 类定义优先考虑禁止拷贝构造和"="赋值操作，如果必需，则需要自定义拷贝构造函数和"="赋值操作符,不允许使用默认拷贝构造和"="赋值实现.
  - 慎用std::string, 即便使用，也要避免利用其COW机制
  - 能用scoped_ptr的地方，不允许使用shared_ptr; 原则上不建议使用shared_ptr。

模块解耦合设计

  - 一个模块对外开放的头文件，不允许include其他模块的头文件，导致依赖扩大化；如果实在必要，可以考虑前示声明。
  - 只有在极度考虑性能的前提下，比如模板设计方式（包括essential/stl/boost），才允许解除上述规则1限制，但需要经过严格review。
  - 如果是一个接口类的头文件，首先应当检视是否可以做到尽可能少的include头文件，甚至不include其他头文件。
  - 如果头文件不需要开放给其他模块，可以考虑放到be/src/modname/下

防御性编程要求

  - 在不影响性能的时候，应当严格防范错误的输入。避免错误扩大化，导致问题位置难于确定。

参考资料

  - http://google.github.io/styleguide/cppguide.html (与本文有冲突的以本文为准)
